---
title: 关于抠图的所有秘密
abbrlink: Cutout
katex: false
root: ../../
tags:
  - 设计
  - 创意
categories:
  - 生活
  - "\U0001F4F7摄影思考"
  - "\U0001FA84图层与抠图"
cover: 'https://pic.si-on.top/2023/04/%E7%B4%AB%E6%99%B6.jpg'
description: 抠图的多种方法解析与ins风图片制作指导
date: 2023-04-04 19:34:14
update: 2023-04-04 19:34:14
comments:
copyright_author:
copyright_author_href:
copyright_url:
copyright_info:
aside:
password:
hidden:
sticky:
keywords:
---
![紫晶.jpg](https://pic.si-on.top/2023/04/%E7%B4%AB%E6%99%B6.jpg)
## 什么是抠图？

抠图，又称为图像遮罩处理，是一种图像合成中使用的技术，也是PS的核心功能之一。它可以帮助摄影师从图像中删除背景或任何不需要的前景物体，并将主体与新背景相融合创造出复合图像。
## 抠图的三个要点
### 选区
选区，顾名思义，即选择的区域。一张照片的像素分布非常广泛，照片内的景物也都有各自的区域划分，而选区的概念则可以让我们将特定的像素，或特定的景物单独地选择出来，以进行下一步的后续应用。

在建立选区时，我们将个别的景物选择出来，那么选择出来的景物周边就会出现选区线，通常称为蚁形线，或蚂蚁线。比如说下图所示的照片，我们将要对天空部分进行调整，这就需要选区的辅助。只有建立了选区，才能对选区内外的景物进行分别的调整。
![选区](https://pic.si-on.top/2023/04/20230404210110.png)

选区可以进行加和、减去、求交（亦即布尔运算）
![image.png](https://pic.si-on.top/2023/04/20230405003325.png)
  
#### 选区用途一：局部调整
  
其实我们为图像中的某些位置建立选区，主要有两个用途，第一个用途是进行局部的调整，所谓局部，是指选区内部，比如说，我们已经将花芯部分选择了出来，这时就可以在“图层”面板底部单击“创建新的填充或调整图层”按钮，在弹出的菜单中选择“曲线”选项，如下图所示。适当调整羽化，就可以很自然地对局部进行调整了
![image.png](https://pic.si-on.top/2023/04/20230405003739.png)

#### 选区用途二：合成
通过选区建立剪切蒙版可以来混合不同的图像，以这张山坡的图像为例进行一些合成。

先使用快速选择工具把天空选出来：
![选择](https://pic.si-on.top/2023/04/20230404210110.png)
再把目标图层（这里以一张晚霞为例）显示出来，并点击“添加到蒙版”
![image.png](https://pic.si-on.top/2023/04/20230404210303.png)
>注意：解锁了图层与蒙版的绑定后，可以对图层进行调整，这里就把云彩图层进行了微调，来模拟真实光照的角度（不然太假了一眼就看穿）。

![image.png](https://pic.si-on.top/2023/04/20230404211514.png)
![当当~混合云彩](https://pic.si-on.top/2023/04/cloud-mix.jpg)

此外还可以通过拖动蒙版的方法，来快速变换其他的目标合成图层
![image.png](https://pic.si-on.top/2023/04/20230404212939.png)
![cloud.jpg](https://pic.si-on.top/2023/04/cloud.jpg)
![月亮](https://pic.si-on.top/2023/04/moon.jpg)

> 选区的50%灰度原理：  在小于50%的不透明度下，选区是没有的，或者说是不可见的。 虽然选区不可见，但是并不能表示它不存在，50%是选区显示的一个界限。[^1]
### 羽化
初次建立选区后，我们往往会发现选区的边线是非常硬朗的，线条太生硬，那么无论是调整还是合成，最终得到的效果都不会自然。这个问题需要使用选区的羽化来解决。**所谓羽化，是指让选区的边缘柔和一些，让选区外与选区内的过渡平滑一些**。
#### 两个不同的羽化
在建立好选区之后，再使用“羽化”功能对照片进行了一定的明亮调整。但在实际的操作中，还可以在建立选区之前，先设定好羽化值，再进行调整。例如，在工具栏中选择“矩形选框工具”后，在上方的选项栏中设定“羽化”值为“150像素”，然后在照片中建立选区，此时选区的边缘就会变得比较柔和。这样，即便对选区进行调整，取消选择后，调整部分与未调整部分的过渡依然也会比较平滑。
  
>要注意的一个问题是，一旦我们没有设定羽化值就建立了选区，那么如果要再进行羽化，只能使用右键菜单进行羽化，然后设定羽化值。只要建立了选区，那么在选项栏中再设置羽化值，就是没有任何效果的。因为实际上，选项栏中的参数设定是针对我们左侧工具栏中的对应工具的，而非针对选区的。要针对选区调整，就需要在快捷菜单中使用“羽化”命令!!!

下面是对应工具的羽化：当不设置羽化值的时候，对局部的调整是这样：![image.png](https://pic.si-on.top/2023/04/20230405005711.png)
当设置了一定的羽化值之后：
![image.png](https://pic.si-on.top/2023/04/20230405005807.png)
可以看出，我们对小局部的调整具有更自然的过渡了🎉。
### ⭐边缘调整
选区的边缘调整有两方面的重要内容，一方面是对漏掉或多余的选区进行添加或精简，另一方面是对选区进行非常精确的微调，这部分也是PS的核心功能。下面举一个例子：
首先选择主体的大概部分：
![image.png](https://pic.si-on.top/2023/04/20230405011742.png)
接下来的是对选择不够精确的部位进行一些微调。因为此时已经无法使用添加或减去功能来进行非常快速的选区调整了，所以就需要进行选区的微调。我们建立大概的选区后，可以直接在选项栏中单击“选择并遮住”按钮，也可以在选区内右击，在弹出的快捷菜单中选择“选择并遮住”选项，这两种方式是一样的。
![image.png](https://pic.si-on.top/2023/04/20230405012233.png)
![image.png](https://pic.si-on.top/2023/04/20230405012803.png)
![image.png](https://pic.si-on.top/2023/04/20230405013656.png)
![image.png](https://pic.si-on.top/2023/04/20230405014019.png)

## 如何进行抠图？

在后期处理中，有多种方法可用于实现图像剪裁，包括手动选择、磁性套索工具和钢笔工具。其中最精准和多功能的方法是使用钢笔工具，该方法涉及在线条周围绘制自定义路径并创建一个矢量掩码，将主体与背景分离开来。虽然这种方法需要一定练习和耐心，但其成果是针对复杂图像、细节丰富的边缘效果最佳的。

完成抠图后，还可以对边缘进行微调、调整对比度和色彩平衡，并将过滤器和效果应用于主体和背景。也可以混合多个层或图像，创造一个传达特定情感或讲述故事的和谐构图。

下面介绍三个主要的抠图方法：
### 选择工具抠图
这类工具的特点是能够快速在目标主体周围建立选区，之后再通过选区的布尔运算进行微调就可以了，适合于对大多数图片。
>另外一点：每个工具都有其独特的优势，不要因为体验不好，就对某某工具产生刻板印象。应当虚心学起来，找一本好的教材或者老师，学熟练了自然就会发现它们各自真正的优点，然后再善加利用之（君子性非异也，善假于物也）。

#### 自动选择工具
PS内置的选择工具主要有魔棒工具、快速选择工具、对象选择工具：
##### 魔棒工具
魔棒工具通过检测颜色的相似度进行抠图，可以从直方图的角度去理解这个工具。
![魔棒](https://pic.si-on.top/2023/04/20230405104209.png)
  
此工具的主要的参数是“容差”。“容差”，是指我们建立选区时所检测的明暗范围，我们将“容差”设置为1，那么检测的明暗范围就是1。比如说，单击按下鼠标的位置作为取样点，那么“容差”设置为1时，只有亮度为0~2这个范围内的像素才会被包含进来，这个范围是非常小的，因此拖动进行描绘建立选区时，能够一次性建立的选区范围非常小。

##### 快速选择工具
![快速选择](https://pic.si-on.top/2023/04/20230405104748.png)
> 记得开启“自动增强选取边缘”来让快速选择工具更智能。

##### 对象选择工具
![对象选择](https://pic.si-on.top/2023/04/20230405105329.png)

#### 不规则几何选区工具（套索工具）
此类工具分三种：套索、多边形套索、磁性套索。前两者的精度比较低，操作难度高，局部调整的时候有些用处，并不适合精细抠图。

依然用这三只大白鹅做例子：
![image.png](https://pic.si-on.top/2023/04/20230405110109.png)
>这样的选区可以很容调整出来主体周围的色彩，简单调整曲线就能弄出来——绝地幽灵鹅 的效果🕶。

![绝地幽灵鹅](https://pic.si-on.top/2023/04/20230405110952.png)
不规则几何选区工具的第三种是磁性套索工具。这个工具比较有意思，它主要是由软件自动判断景物的边缘，判断出来后，自动建立选区线，最终建立选区。这种操作因为是自动进行的，所以在很多时候都会有一定的限制。比如，如果要建立选区线的部分对比不够明显，那么磁性套索工具就无法识别边缘，也无法建立选区。也就是说，磁性套索工具对于对比度的要求是很高的，只有对比非常明显的线条两侧才能被检测出来。
![image.png](https://pic.si-on.top/2023/04/20230405111848.png)
我们可以通过控制三个参数：宽度、对比度、频率来对磁性套索工具进行调教[^3]。
1.   “宽度”：该参数是指鼠标移动位置两侧的像素宽度[^2]，即软件检测鼠标两侧10个像素范围内有没有明显的线条边缘。
	* 如果这个数值非常小，而我们将鼠标放得离边缘又比较远，那么软件就无法检测到较远处的边缘，也无法建立准确的选区线。
	* 如果将“宽度”设置为“100像素”，即检测范围非常大，这样即便将鼠标放在对象外面上，在离边线位置非常远的位置进行移动，软件依然可以检测出边线，并沿着边线建立好选区线。
	* 这时会有一个新的问题，即是不是我们就可以将“宽度”设置得越大越好呢？其实不然，因为如果“宽度”设置得过大，那么软件有**可能会检测到极远处的其他线条**，从而在一些我们不想要的位置上建立选区线。
2. “对比度”：  该参数决定了磁性套索工具能够识别的边缘精度，适当的调节能够使其识别出对比度很低的边缘，其计算能力越发强大。当“对比度”设置的很小时（比如2%），选区就变得能够识别对比度很小的一些边缘位置，并建立精确的描边，极为实用。
3.   “频率”：决定了建立锚点的频率。一般来说，“频率”越高，就越容易检测出一些对比度较低的边缘。
### 蒙版抠图
待完善
### （高阶）通道精细抠图
待完善
### （高阶）色彩范围抠图

## 抠图的应用：图像合成
### 画笔工具与渐变工具
这两个工具很类似，第一步都是：设置前景色为黑色 ，背景色为白色，然后新建图层蒙版。
对于画笔工具，直接在画面上进行涂抹即可。
对于渐变工具，选择“前景色到透明渐变（左侧全黑，右侧全透明）”，然后选择不同的渐变方式，设置合适的不透明度。最后在画面做渐变拉伸，就可以显示出 “ 背景 " 图层了。
![渐变抠图](https://pic.si-on.top/2023/04/20230404202843.png)
![画笔抠图](https://pic.si-on.top/2023/04/20230404204809.png)
![arrests](https://pic.si-on.top/2023/04/arrests.jpg)

{% note info simple %}
利用这种方法，我们可以将很多影像进行快速融合。但是在合成的过程中，一定要注意光线的角度、画面的透视等客观因素。这样才能合成出相对真实的后期作品。
{% endnote %}
### 朴素图片练习

![紫晶.jpg](https://pic.si-on.top/2023/04/%E7%B4%AB%E6%99%B6.jpg)
![雕塑.jpg](https://pic.si-on.top/2023/04/%E9%9B%95%E5%A1%91.jpg)
## 后记：后期思维引导前期拍摄
一般来说，直接照出来一张完美的图片说极为困难的，需要天时、地利、人和都到位(参见这个例子[雪原摄影经验](/2023/Snow&Shot))。一次性就拍出来这样的图片，即便对于专业摄影师来讲也是极具挑战性的。但是如果在摄影时考虑了后期处理，那就情况就大为改观了。

比如有两张照片，第一张照片有主体，但是没有背景；第二张照片有环境，但是没有主体，两张照片初一看似乎都是失败的。再一看，其实在两张图片中：环境是一致的，光照条件也是一致的，只不过没有将这两个画面组合在一起。对于这样的一组照片，就很适合通过后期技法来弥补前期拍摄的遗憾。

带着二次创作思维的想法去拍照，这就是所谓的**后期思维来引导前期拍摄**。

[^2]: 默认值为十个像素
[^3]: 参考《摄影师的后期课：抠图与合成篇》2.2章：不规则几何选区工具